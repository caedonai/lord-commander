#!/bin/sh
# Pre-commit hook for Lord Commander SDK

# Ensure non-interactive mode for CI environments
export CI=true
export NODE_ENV=test

echo "ğŸ” Running pre-commit checks..."

# Run linting on affected projects using NX
echo "ğŸ“ Running linting checks..."
pnpm nx affected --target=lint --parallel=3 || exit 1

# Run tests on affected projects using NX  
echo "ğŸ§ª Running tests..."
pnpm nx affected --target=test --parallel=2 || exit 1

echo "âœ… Pre-commit checks passed!"